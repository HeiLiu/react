{"version":3,"sources":["src\\react\\create-element.js","src\\react\\component.js","src\\react\\index.js","src\\react-dom\\dom.js","src\\react-dom\\render.js","src\\react-dom\\index.js","src\\index.js"],"names":["createElement","tag","attrs","children","Component","props","isReactComponent","state","stateChange","Object","assign","setAttribute","dom","name","value","test","toLowerCase","style","cssText","removeAttribute","renderComponent","render","_render","vnode","textNode","document","createTextNode","console","log","component","createComponent","setComponentProps","base","keys","forEach","key","child","inst","prototype","renderer","container","appendChild","Counter","React","element","Date","toLocaleTimeString","ReactDOM","getElementById"],"mappings":"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","file":"src.ee3e4469.map","sourceRoot":"..","sourcesContent":["function createElement(tag, attrs, ...children) {\r\n  return {\r\n    tag,\r\n    attrs,\r\n    children\r\n  }\r\n}\r\nexport default createElement\r\n","class Component {\r\n  constructor(props = {}) {\r\n    this.isReactComponent = true\r\n    this.state = {}\r\n    this.props = props\r\n  }\r\n  setState(stateChange) {\r\n    Object.assign(this.state, stateChange)\r\n  }\r\n}\r\n\r\nexport default Component\r\n","import createElement from './create-element.js'\r\nimport Component from './component.js'\r\nexport default {\r\n  Component,\r\n  createElement\r\n}","export function setAttribute(dom, name, value) {\r\n  if ( name === 'className') name = 'class' \r\n  if(/on\\w+/.test(name)) {\r\n    name = name.toLowerCase()\r\n    dom[name] = value || ''\r\n  } else if (name === 'style') {\r\n    // {{fontSize: 20, color: ''red}}\r\n    if (!value || typeof value === 'string') {\r\n      dom.style.cssText = value || ''\r\n    }else if(value && typeof value === 'object' ) {\r\n      for(let name in value) {\r\n        dom.style[name] = typeof value[name] === 'number' ? value + 'px' : value[name]\r\n      }\r\n    }\r\n  } else {\r\n    if(value) {\r\n      dom.setAttribute(name, value)\r\n    } else {\r\n      dom.removeAttribute(name, value)\r\n    }\r\n  }\r\n}\r\n","import { setAttribute } from './dom.js'\r\n\r\nfunction _render(vnode) {\r\n    if (typeof vnode === 'string') {\r\n        const textNode = document.createTextNode(vnode)\r\n        return textNode\r\n    }\r\n    if (typeof vnode.tag === 'function') {\r\n      // 在 jsx 里面 组件<Counter/>就是一个标签  \r\n      // 普通标签就会来到 _render 但是这个标签不是普通标签， tramsform-react-jsx 将它解析成一个 函数 => Component\r\n      // 实例化， 生成周期， render方法\r\n      console.log(vnode)\r\n      const component = createComponent(vnode.tag, vnode.attrs)\r\n      setComponentProps(component, vnode.attrs)\r\n      // return document.createTextNode('组件')\r\n      return component.base\r\n    }\r\n\r\n    const dom = document.createElement(vnode.tag)\r\n\r\n    if (vnode.attrs) {\r\n        Object.keys(vnode.attrs).forEach(key => {\r\n            // if (key === 'className') key = 'class'\r\n            // dom.setAttribute(key, vnode.attrs[key])\r\n            // 换一种想法 不是简单的 setAttribute 而是 onClick className {obj}\r\n            const value = vnode.attrs[key]\r\n            setAttribute(dom, key, value)\r\n        })\r\n    }\r\n\r\n    vnode.children.forEach(child => render(child, dom))\r\n\r\n    return dom\r\n}\r\n\r\nfunction createComponent(component, props) {\r\n  let inst\r\n  if (component.prototype && component.prototype.render) {\r\n    inst = new component(props)\r\n  }\r\n  return inst\r\n}\r\nfunction setComponentProps(component, props) {\r\n  renderComponent(component)\r\n}\r\nexport function renderComponent(component) {\r\n  let base\r\n  const renderer = component.render()\r\n  base = _render(renderer)\r\n  component.base = base\r\n}\r\n\r\nexport function render(vnode, container) {\r\n    return container.appendChild(_render(vnode))\r\n}\r\n","\r\nimport { render } from './render'\r\nexport default {\r\n  render\r\n}\r\n","import React from './react'\r\nimport ReactDOM from './react-dom'\r\n\r\nclass Counter extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    \r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        Counter\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// function tick () {\r\n    const element = (\r\n        <div>\r\n            <h1>Hello world</h1>\r\n            <Counter className=\"haha\" onClick=\"hahah\"/>\r\n            <h2>It is { new Date().toLocaleTimeString() }.</h2>\r\n            <Counter/>\r\n        </div>\r\n    )\r\n    \r\n    // 为什么要用 ReactDOM 在 react 中还是要引用 react\r\n    \r\n    ReactDOM.render(\r\n        element,\r\n        document.getElementById('root')\r\n    )\r\n// }\r\n\r\n// setInterval(tick, 1000)\r\n"]}